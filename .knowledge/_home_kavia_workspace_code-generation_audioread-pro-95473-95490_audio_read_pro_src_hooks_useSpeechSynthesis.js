{"is_source_file": true, "format": "JavaScript", "description": "This file defines a custom React hook 'useSpeechSynthesis' for utilizing the Web Speech API, with enhanced capabilities such as word boundary detection, voice management, and playback controls.", "external_files": ["react"], "external_methods": ["react.useState", "react.useEffect", "react.useRef", "react.useCallback"], "published": ["useSpeechSynthesis"], "classes": [], "methods": [{"name": "configureUtterance(text, options = {})", "description": "Creates and configures a SpeechSynthesisUtterance with specified text and options.", "scope": "", "scopeKind": ""}, {"name": "speak(input, options = {})", "description": "Speaks the provided text or SpeechSynthesisUtterance, handling events and updating state.", "scope": "", "scopeKind": ""}, {"name": "pause()", "description": "Pauses ongoing speech synthesis.", "scope": "", "scopeKind": ""}, {"name": "resume()", "description": "Resumes paused speech synthesis.", "scope": "", "scopeKind": ""}, {"name": "cancel()", "description": "Cancels any ongoing speech synthesis.", "scope": "", "scopeKind": ""}, {"name": "speakFromPosition(charIndex, options = {})", "description": "Starts speaking from a specific character index within the current text.", "scope": "", "scopeKind": ""}, {"name": "setPlaybackContext(context = {})", "description": "Sets contextual playback information like page and chunk indices.", "scope": "", "scopeKind": ""}, {"name": "getPlaybackContext()", "description": "Retrieves the current playback context including position and last word.", "scope": "", "scopeKind": ""}, {"name": "setVoice(voice)", "description": "Sets the voice used for speech synthesis and switches it dynamically during playback.", "scope": "", "scopeKind": ""}], "calls": ["window.speechSynthesis.getVoices", "window.speechSynthesis.onvoiceschanged", "window.speechSynthesis.cancel", "window.speechSynthesis.speak", "window.speechSynthesis.pause", "window.speechSynthesis.resume"], "search-terms": ["useSpeechSynthesis", "wordBoundaryListeners", "enhanced speech synthesis", "custom React hook for speech", "word boundary event handling"], "state": 2, "file_id": 29, "knowledge_revision": 149, "git_revision": "23da931fa1ffd860f2b99cd8205ef20a8042fbec", "revision_history": [{"71": "7937b7b902e5933ead24a487a791509179ba075c"}, {"76": "0fb0e17d30dcc70100a5feee4cac386e3aa1ef9f"}, {"82": "c279505fb796d068482256e99a4ac53e24153aae"}, {"83": "3eced1196c75e1119ff7bc2d5e8fc7ed994746dd"}, {"84": "e8dce2a38036a0510814869f7d71b9219ab06906"}, {"122": "542c1e86d981a69df595bf041ef32b3544850370"}, {"123": "7e1a49fe941cdfae162b702bf9970f961757db32"}, {"143": "3f352fbac17e23f7e0e203923ad1d51f7f209c44"}, {"148": "c62c192f23f2322291d39e3b28c16a692d0c2b96"}, {"149": "23da931fa1ffd860f2b99cd8205ef20a8042fbec"}], "ctags": [{"_type": "tag", "name": "cancel", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^  function cancel() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "charIndex", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^                charIndex: event.charIndex,$/", "language": "JavaScript", "kind": "property", "scope": "wordData", "scopeKind": "class"}, {"_type": "tag", "name": "charIndex", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^              charIndex: event.charIndex,$/", "language": "JavaScript", "kind": "property", "scope": "currentWordDataRef.current", "scopeKind": "class"}, {"_type": "tag", "name": "configureUtterance", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^  function configureUtterance(text, options = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(text, options = {})"}, {"_type": "tag", "name": "current", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^            currentWordDataRef.current = {$/", "language": "JavaScript", "kind": "class", "scope": "currentWordDataRef", "scopeKind": "class"}, {"_type": "tag", "name": "currentPositionRef", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^  const currentPositionRef = useRef(0);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "currentTextRef", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^  const currentTextRef = useRef('');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "currentWordDataRef", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^  const currentWordDataRef = useRef({$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "end", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^                  end: wordEnd$/", "language": "JavaScript", "kind": "property", "scope": "wordData.wordPosition", "scopeKind": "class"}, {"_type": "tag", "name": "getPlaybackContext", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^  function getPlaybackContext() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "lastWordRef", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^  const lastWordRef = useRef('');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "options", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^      const options = {$/", "language": "JavaScript", "kind": "class", "scope": "setVoice", "scopeKind": "class"}, {"_type": "tag", "name": "pause", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^  function pause() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "pitch", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^        pitch: utteranceRef.current.pitch,$/", "language": "JavaScript", "kind": "property", "scope": "setVoice.options", "scopeKind": "class"}, {"_type": "tag", "name": "playbackContextRef", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^  const playbackContextRef = useRef({$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "rate", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^        rate: utteranceRef.current.rate,$/", "language": "JavaScript", "kind": "property", "scope": "setVoice.options", "scopeKind": "class"}, {"_type": "tag", "name": "resume", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^  function resume() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "selectedVoiceRef", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^  const selectedVoiceRef = useRef(null);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setPaused", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^  const [paused, setPaused] = useState(false);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setPlaybackContext", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^  function setPlaybackContext(context = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(context = {})"}, {"_type": "tag", "name": "setSpeaking", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^  const [speaking, setSpeaking] = useState(false);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setVoice", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^  function setVoice(voice) {$/", "language": "JavaScript", "kind": "function", "signature": "(voice)"}, {"_type": "tag", "name": "setVoices", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^  const [voices, setVoices] = useState([]);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "speak", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^  function speak(input, options = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(input, options = {})"}, {"_type": "tag", "name": "speakFromPosition", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^  function speakFromPosition(charIndex, options = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(charIndex, options = {})"}, {"_type": "tag", "name": "start", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^                  start: wordStart,$/", "language": "JavaScript", "kind": "property", "scope": "wordData.wordPosition", "scopeKind": "class"}, {"_type": "tag", "name": "startTime", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^              startTime: performance.now()$/", "language": "JavaScript", "kind": "property", "scope": "currentWordDataRef.current", "scopeKind": "class"}, {"_type": "tag", "name": "text", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^                text: text,$/", "language": "JavaScript", "kind": "property", "scope": "wordData", "scopeKind": "class"}, {"_type": "tag", "name": "timestamp", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^                timestamp: performance.now()$/", "language": "JavaScript", "kind": "property", "scope": "wordData", "scopeKind": "class"}, {"_type": "tag", "name": "useSpeechSynthesis", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^const useSpeechSynthesis = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "utteranceRef", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^  const utteranceRef = useRef(null);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "volume", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^        volume: utteranceRef.current.volume$/", "language": "JavaScript", "kind": "property", "scope": "setVoice.options", "scopeKind": "class"}, {"_type": "tag", "name": "word", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^                word: currentWord,$/", "language": "JavaScript", "kind": "property", "scope": "wordData", "scopeKind": "class"}, {"_type": "tag", "name": "word", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^              word: currentWord,$/", "language": "JavaScript", "kind": "property", "scope": "currentWordDataRef.current", "scopeKind": "class"}, {"_type": "tag", "name": "wordBoundaryListenersRef", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^  const wordBoundaryListenersRef = useRef([]);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "wordData", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^              const wordData = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "wordPosition", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^                wordPosition: {$/", "language": "JavaScript", "kind": "class", "scope": "wordData", "scopeKind": "class"}], "filename": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "hash": "2d012e5b71119e2b25a09a4a41a18c72", "format-version": 4, "code-base-name": "default", "fields": [{"name": "charIndex: event.charIndex,", "scope": "wordData", "scopeKind": "class", "description": "unavailable"}, {"name": "end: wordEnd", "scope": "wordData.wordPosition", "scopeKind": "class", "description": "unavailable"}, {"name": "pitch: utteranceRef.current.pitch,", "scope": "setVoice.options", "scopeKind": "class", "description": "unavailable"}, {"name": "rate: utteranceRef.current.rate,", "scope": "setVoice.options", "scopeKind": "class", "description": "unavailable"}, {"name": "start: wordStart,", "scope": "wordData.wordPosition", "scopeKind": "class", "description": "unavailable"}, {"name": "startTime: performance.now()", "scope": "currentWordDataRef.current", "scopeKind": "class", "description": "unavailable"}, {"name": "text: text,", "scope": "wordData", "scopeKind": "class", "description": "unavailable"}, {"name": "timestamp: performance.now()", "scope": "wordData", "scopeKind": "class", "description": "unavailable"}, {"name": "volume: utteranceRef.current.volume", "scope": "setVoice.options", "scopeKind": "class", "description": "unavailable"}, {"name": "word: currentWord,", "scope": "wordData", "scopeKind": "class", "description": "unavailable"}]}