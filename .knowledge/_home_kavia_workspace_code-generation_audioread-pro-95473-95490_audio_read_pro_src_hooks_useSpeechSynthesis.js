{"is_source_file": true, "format": "JavaScript", "description": "Custom React hook for utilizing the Web Speech API for speech synthesis, including voice management, playback controls, boundary event handling, and context tracking.", "external_files": ["react"], "external_methods": ["useState", "useEffect", "useRef", "useCallback"], "published": ["useSpeechSynthesis"], "classes": [], "methods": [{"name": "configureUtterance(text, options = {})", "description": "Creates and configures a SpeechSynthesisUtterance with specified text and optional settings.", "scope": "", "scopeKind": ""}, {"name": "speak(input, options = {})", "description": "Starts speech synthesis for the provided text or utterance object, with event handlers for end, error, and boundary events.", "scope": "", "scopeKind": ""}, {"name": "pause()", "description": "Pauses ongoing speech synthesis.", "scope": "", "scopeKind": ""}, {"name": "resume()", "description": "Resumes paused speech synthesis.", "scope": "", "scopeKind": ""}, {"name": "cancel()", "description": "Cancels ongoing speech synthesis.", "scope": "", "scopeKind": ""}, {"name": "speakFromPosition(charIndex, options = {})", "description": "Speaks the remaining text starting from a specified character index.", "scope": "", "scopeKind": ""}, {"name": "setPlaybackContext(context = {})", "description": "Updates playback context such as page and chunk indices.", "scope": "", "scopeKind": ""}, {"name": "getPlaybackContext()", "description": "Returns current playback context, including position and last spoken word.", "scope": "", "scopeKind": ""}, {"name": "setVoice(voice)", "description": "Sets the current voice used for speech synthesis; can switch voice during ongoing speech.", "scope": "", "scopeKind": ""}], "calls": ["window.speechSynthesis.getVoices()", "window.speechSynthesis.onvoiceschanged", "window.speechSynthesis.cancel()", "window.speechSynthesis.speak()", "window.speechSynthesis.pause()", "window.speechSynthesis.resume()"], "search-terms": ["useSpeechSynthesis", "SpeechSynthesisUtterance", "word boundary", "auto-scrolling", "highlighting", "voice switching", "pause/resume"], "state": 2, "file_id": 29, "knowledge_revision": 148, "git_revision": "c62c192f23f2322291d39e3b28c16a692d0c2b96", "revision_history": [{"71": "7937b7b902e5933ead24a487a791509179ba075c"}, {"76": "0fb0e17d30dcc70100a5feee4cac386e3aa1ef9f"}, {"82": "c279505fb796d068482256e99a4ac53e24153aae"}, {"83": "3eced1196c75e1119ff7bc2d5e8fc7ed994746dd"}, {"84": "e8dce2a38036a0510814869f7d71b9219ab06906"}, {"122": "542c1e86d981a69df595bf041ef32b3544850370"}, {"123": "7e1a49fe941cdfae162b702bf9970f961757db32"}, {"143": "3f352fbac17e23f7e0e203923ad1d51f7f209c44"}, {"148": "c62c192f23f2322291d39e3b28c16a692d0c2b96"}], "ctags": [{"_type": "tag", "name": "cancel", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^  function cancel() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "configureUtterance", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^  function configureUtterance(text, options = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(text, options = {})"}, {"_type": "tag", "name": "currentPositionRef", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^  const currentPositionRef = useRef(0);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "currentTextRef", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^  const currentTextRef = useRef('');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "currentWordDataRef", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^  const currentWordDataRef = useRef({$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getPlaybackContext", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^  function getPlaybackContext() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "lastWordRef", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^  const lastWordRef = useRef('');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "options", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^      const options = {$/", "language": "JavaScript", "kind": "class", "scope": "setVoice", "scopeKind": "class"}, {"_type": "tag", "name": "pause", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^  function pause() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "pitch", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^        pitch: utteranceRef.current.pitch,$/", "language": "JavaScript", "kind": "property", "scope": "setVoice.options", "scopeKind": "class"}, {"_type": "tag", "name": "playbackContextRef", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^  const playbackContextRef = useRef({$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "rate", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^        rate: utteranceRef.current.rate,$/", "language": "JavaScript", "kind": "property", "scope": "setVoice.options", "scopeKind": "class"}, {"_type": "tag", "name": "resume", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^  function resume() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "selectedVoiceRef", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^  const selectedVoiceRef = useRef(null);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setPaused", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^  const [paused, setPaused] = useState(false);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setPlaybackContext", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^  function setPlaybackContext(context = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(context = {})"}, {"_type": "tag", "name": "setSpeaking", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^  const [speaking, setSpeaking] = useState(false);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setVoice", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^  function setVoice(voice) {$/", "language": "JavaScript", "kind": "function", "signature": "(voice)"}, {"_type": "tag", "name": "setVoices", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^  const [voices, setVoices] = useState([]);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "speak", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^  function speak(input, options = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(input, options = {})"}, {"_type": "tag", "name": "speakFromPosition", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^  function speakFromPosition(charIndex, options = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(charIndex, options = {})"}, {"_type": "tag", "name": "useSpeechSynthesis", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^const useSpeechSynthesis = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "utteranceRef", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^  const utteranceRef = useRef(null);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "volume", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^        volume: utteranceRef.current.volume$/", "language": "JavaScript", "kind": "property", "scope": "setVoice.options", "scopeKind": "class"}, {"_type": "tag", "name": "wordBoundaryListenersRef", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^  const wordBoundaryListenersRef = useRef([]);$/", "language": "JavaScript", "kind": "constant"}], "filename": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "hash": "e320da0de75859d2bd6bf94ed295c63f", "format-version": 4, "code-base-name": "default", "fields": [{"name": "pitch: utteranceRef.current.pitch,", "scope": "setVoice.options", "scopeKind": "class", "description": "unavailable"}, {"name": "rate: utteranceRef.current.rate,", "scope": "setVoice.options", "scopeKind": "class", "description": "unavailable"}, {"name": "volume: utteranceRef.current.volume", "scope": "setVoice.options", "scopeKind": "class", "description": "unavailable"}]}