{"is_source_file": true, "format": "JavaScript", "description": "Custom React hook for speech synthesis that manages voice selection, speech control (play, pause, resume, cancel), tracking of word boundaries, and playback context. It enhances the Web Speech API with additional features like voice switching during playback and detailed position tracking.", "external_files": ["react"], "external_methods": ["window.speechSynthesis.getVoices", "window.speechSynthesis.onvoiceschanged", "window.speechSynthesis.cancel", "window.speechSynthesis.speak", "window.speechSynthesis.pause", "window.speechSynthesis.resume"], "published": ["useSpeechSynthesis"], "classes": [], "methods": [{"name": "configureUtterance(text, options = {})", "description": "Creates and configures a SpeechSynthesisUtterance with specified text and options, including voice application.", "scope": "", "scopeKind": ""}, {"name": "speak(input, options = {})", "description": "Initiates speech synthesis for provided input text or SpeechSynthesisUtterance, managing onend and error events, and boundary tracking for word positioning.", "scope": "", "scopeKind": ""}, {"name": "pause()", "description": "Pauses ongoing speech synthesis.", "scope": "", "scopeKind": ""}, {"name": "resume()", "description": "Resumes speech synthesis from a paused state.", "scope": "", "scopeKind": ""}, {"name": "cancel()", "description": "Cancels any ongoing speech synthesis.", "scope": "", "scopeKind": ""}, {"name": "speakFromPosition(charIndex, options = {})", "description": "Speaks the remaining text starting from a specified character index, allowing for resuming from specific points.", "scope": "", "scopeKind": ""}, {"name": "setPlaybackContext(context = {})", "description": "Sets the current playback context with optional page and chunk indices.", "scope": "", "scopeKind": ""}, {"name": "getPlaybackContext()", "description": "Returns the current playback context, including position and word information.", "scope": "", "scopeKind": ""}, {"name": "setVoice(voice)", "description": "Changes the voice used for speech synthesis, allowing switching mid-playback without interruption.", "scope": "", "scopeKind": ""}], "calls": ["window.speechSynthesis.getVoices", "window.speechSynthesis.onvoiceschanged", "window.speechSynthesis.cancel", "window.speechSynthesis.speak", "window.speechSynthesis.pause", "window.speechSynthesis.resume"], "search-terms": ["useSpeechSynthesis", "Web Speech API", "speech synthesis React hook", "voice switching", "word boundary tracking", "enhanced speech control", "utterance position tracking"], "state": 2, "file_id": 29, "knowledge_revision": 143, "git_revision": "3f352fbac17e23f7e0e203923ad1d51f7f209c44", "revision_history": [{"71": "7937b7b902e5933ead24a487a791509179ba075c"}, {"76": "0fb0e17d30dcc70100a5feee4cac386e3aa1ef9f"}, {"82": "c279505fb796d068482256e99a4ac53e24153aae"}, {"83": "3eced1196c75e1119ff7bc2d5e8fc7ed994746dd"}, {"84": "e8dce2a38036a0510814869f7d71b9219ab06906"}, {"122": "542c1e86d981a69df595bf041ef32b3544850370"}, {"123": "7e1a49fe941cdfae162b702bf9970f961757db32"}, {"143": "3f352fbac17e23f7e0e203923ad1d51f7f209c44"}], "ctags": [{"_type": "tag", "name": "cancel", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^  function cancel() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "configureUtterance", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^  function configureUtterance(text, options = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(text, options = {})"}, {"_type": "tag", "name": "currentPositionRef", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^  const currentPositionRef = useRef(0);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "currentTextRef", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^  const currentTextRef = useRef('');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getPlaybackContext", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^  function getPlaybackContext() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "lastWordRef", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^  const lastWordRef = useRef('');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "options", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^      const options = {$/", "language": "JavaScript", "kind": "class", "scope": "setVoice", "scopeKind": "class"}, {"_type": "tag", "name": "pause", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^  function pause() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "pitch", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^        pitch: utteranceRef.current.pitch,$/", "language": "JavaScript", "kind": "property", "scope": "setVoice.options", "scopeKind": "class"}, {"_type": "tag", "name": "playbackContextRef", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^  const playbackContextRef = useRef({$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "rate", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^        rate: utteranceRef.current.rate,$/", "language": "JavaScript", "kind": "property", "scope": "setVoice.options", "scopeKind": "class"}, {"_type": "tag", "name": "resume", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^  function resume() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "selectedVoiceRef", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^  const selectedVoiceRef = useRef(null);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setPaused", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^  const [paused, setPaused] = useState(false);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setPlaybackContext", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^  function setPlaybackContext(context = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(context = {})"}, {"_type": "tag", "name": "setSpeaking", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^  const [speaking, setSpeaking] = useState(false);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setVoice", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^  function setVoice(voice) {$/", "language": "JavaScript", "kind": "function", "signature": "(voice)"}, {"_type": "tag", "name": "setVoices", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^  const [voices, setVoices] = useState([]);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "speak", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^  function speak(input, options = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(input, options = {})"}, {"_type": "tag", "name": "speakFromPosition", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^  function speakFromPosition(charIndex, options = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(charIndex, options = {})"}, {"_type": "tag", "name": "useSpeechSynthesis", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^const useSpeechSynthesis = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "utteranceRef", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^  const utteranceRef = useRef(null);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "volume", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "pattern": "/^        volume: utteranceRef.current.volume$/", "language": "JavaScript", "kind": "property", "scope": "setVoice.options", "scopeKind": "class"}], "filename": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/hooks/useSpeechSynthesis.js", "hash": "989ddaeb201d49a27e0bb25e6ffd265d", "format-version": 4, "code-base-name": "default", "fields": [{"name": "pitch: utteranceRef.current.pitch,", "scope": "setVoice.options", "scopeKind": "class", "description": "unavailable"}, {"name": "rate: utteranceRef.current.rate,", "scope": "setVoice.options", "scopeKind": "class", "description": "unavailable"}, {"name": "volume: utteranceRef.current.volume", "scope": "setVoice.options", "scopeKind": "class", "description": "unavailable"}]}