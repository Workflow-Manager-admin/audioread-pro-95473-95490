{"is_source_file": true, "format": "JavaScript", "description": "The file defines utility functions for managing documents within a web application, primarily via localStorage. It includes features for adding, removing, retrieving documents, managing active document state, and handling associated metadata such as reading positions and bookmarks. The functions facilitate persistent document storage, metadata updates, and referencing external storage keys.", "external_files": [], "external_methods": [], "published": ["saveDocuments", "getDocuments", "addDocument", "removeDocument", "getDocumentById", "setActiveDocumentId", "getActiveDocumentId", "getActiveDocument", "hasDocuments", "saveReadingPosition", "getReadingPosition", "removeReadingPosition", "saveBookmarks", "getBookmarks", "removeBookmarks", "updateDocumentMetadata"], "classes": [], "methods": [{"name": "generateDocumentId", "description": "Generates a unique ID for a document using timestamp and randomness."}, {"name": "saveDocuments", "description": "Saves an array of documents to localStorage."}, {"name": "getDocuments", "description": "Retrieves the list of documents from localStorage."}, {"name": "addDocument", "description": "Adds a new document object to storage, assigning it a unique ID and timestamp."}, {"name": "removeDocument", "description": "Removes a document identified by ID from storage, cleans up related data."}, {"name": "getDocumentById", "description": "Fetches a specific document by ID."}, {"name": "setActiveDocumentId", "description": "Sets the current active document ID in localStorage."}, {"name": "getActiveDocumentId", "description": "Retrieves the ID of the currently active document from storage."}, {"name": "getActiveDocument", "description": "Returns the active document object based on stored active ID."}, {"name": "hasDocuments", "description": "Checks if there are any stored documents."}, {"name": "saveReadingPosition", "description": "Stores the reading position data for a specific document."}, {"name": "getReadingPosition", "description": "Retrieves the saved reading position for a given document."}, {"name": "removeReadingPosition", "description": "Removes the saved reading position of a document."}, {"name": "saveBookmarks", "description": "Saves bookmarks array for a document."}, {"name": "getBookmarks", "description": "Retrieves bookmarks for a specific document."}, {"name": "removeBookmarks", "description": "Deletes bookmarks for a given document."}, {"name": "updateDocumentMetadata", "description": "Updates metadata fields for a document, like page count or last update timestamp."}], "calls": ["localStorage.setItem", "localStorage.getItem", "localStorage.removeItem", "JSON.stringify", "JSON.parse", "console.error", "Date.now", "Math.random", "Array.prototype.find", "Array.prototype.filter", "Array.prototype.push", "Array.prototype.findIndex"], "search-terms": ["localStorage document management", "audioReadPro document utility", "document metadata update", "reading position storage", "bookmark management", "UUID generation", "JavaScript document storage"], "state": 2, "file_id": 31, "knowledge_revision": 147, "git_revision": "54c51a48ba5f7a0720996686b94f7301406c2639", "revision_history": [{"87": "738c20390e637bf5cbbea5d1cbe933e8f743c1e7"}, {"110": "e6ffdba95d94d1de04d37156e342d2fb8fd1eebe"}, {"114": "149ffcf51925223c468a032bf247ac364bf77255"}, {"147": "54c51a48ba5f7a0720996686b94f7301406c2639"}], "ctags": [{"_type": "tag", "name": "ACTIVE_DOC_KEY", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/utils/documentStorage.js", "pattern": "/^const ACTIVE_DOC_KEY = 'audioReadPro_activeDocument';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "BOOKMARK_KEY_PREFIX", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/utils/documentStorage.js", "pattern": "/^const BOOKMARK_KEY_PREFIX = 'audioReadProBookmarks_';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "POSITION_KEY_PREFIX", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/utils/documentStorage.js", "pattern": "/^const POSITION_KEY_PREFIX = 'audioReadProPosition_';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "STORAGE_KEY", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/utils/documentStorage.js", "pattern": "/^const STORAGE_KEY = 'audioReadPro_documents';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "activeDocId", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/utils/documentStorage.js", "pattern": "/^    const activeDocId = getActiveDocumentId();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "activeDocId", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/utils/documentStorage.js", "pattern": "/^  const activeDocId = getActiveDocumentId();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "addDocument", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/utils/documentStorage.js", "pattern": "/^export const addDocument = (documentData) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "bookmarkKey", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/utils/documentStorage.js", "pattern": "/^    const bookmarkKey = `${BOOKMARK_KEY_PREFIX}${documentId}`;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "bookmarks", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/utils/documentStorage.js", "pattern": "/^    const bookmarks = localStorage.getItem(bookmarkKey);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "documentIndex", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/utils/documentStorage.js", "pattern": "/^    const documentIndex = documents.findIndex(doc => doc.id === documentId);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "documents", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/utils/documentStorage.js", "pattern": "/^    const documents = getDocuments();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "documents", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/utils/documentStorage.js", "pattern": "/^    const documents = localStorage.getItem(STORAGE_KEY);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "generateDocumentId", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/utils/documentStorage.js", "pattern": "/^const generateDocumentId = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getActiveDocument", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/utils/documentStorage.js", "pattern": "/^export const getActiveDocument = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getActiveDocumentId", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/utils/documentStorage.js", "pattern": "/^export const getActiveDocumentId = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getBookmarks", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/utils/documentStorage.js", "pattern": "/^export const getBookmarks = (documentId) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getDocumentById", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/utils/documentStorage.js", "pattern": "/^export const getDocumentById = (documentId) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getDocuments", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/utils/documentStorage.js", "pattern": "/^export const getDocuments = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getReadingPosition", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/utils/documentStorage.js", "pattern": "/^export const getReadingPosition = (documentId) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "hasDocuments", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/utils/documentStorage.js", "pattern": "/^export const hasDocuments = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "newDocument", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/utils/documentStorage.js", "pattern": "/^    const newDocument = {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "positionData", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/utils/documentStorage.js", "pattern": "/^    const positionData = localStorage.getItem(positionKey);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "positionKey", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/utils/documentStorage.js", "pattern": "/^    const positionKey = `${POSITION_KEY_PREFIX}${documentId}`;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "removeBookmarks", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/utils/documentStorage.js", "pattern": "/^export const removeBookmarks = (documentId) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "removeDocument", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/utils/documentStorage.js", "pattern": "/^export const removeDocument = (documentId) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "removeReadingPosition", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/utils/documentStorage.js", "pattern": "/^export const removeReadingPosition = (documentId) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "saveBookmarks", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/utils/documentStorage.js", "pattern": "/^export const saveBookmarks = (documentId, bookmarks) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "saveDocuments", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/utils/documentStorage.js", "pattern": "/^export const saveDocuments = (documents) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "saveReadingPosition", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/utils/documentStorage.js", "pattern": "/^export const saveReadingPosition = (documentId, positionData) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setActiveDocumentId", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/utils/documentStorage.js", "pattern": "/^export const setActiveDocumentId = (documentId) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "success", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/utils/documentStorage.js", "pattern": "/^    const success = saveDocuments(documents);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "updateDocumentMetadata", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/utils/documentStorage.js", "pattern": "/^export const updateDocumentMetadata = (documentId, metadata) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "updatedDocument", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/utils/documentStorage.js", "pattern": "/^    const updatedDocument = {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "updatedDocuments", "path": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/utils/documentStorage.js", "pattern": "/^    const updatedDocuments = documents.filter(doc => doc.id !== documentId);$/", "language": "JavaScript", "kind": "constant"}], "filename": "/home/kavia/workspace/code-generation/audioread-pro-95473-95490/audio_read_pro/src/utils/documentStorage.js", "hash": "e72bfbced7ec0286c287720dc6f207b8", "format-version": 4, "code-base-name": "default"}